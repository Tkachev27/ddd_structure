import { Meta, Story, Canvas, ArgsTable, Source } from '@storybook/addon-docs';
import dedent from 'ts-dedent';

<Meta title="Components/Dropdown/Overview" />

## Usage
Импортировать в модуль:
<Source
  language='typescript'
  dark
  format={true}
  code={dedent`
    import { DropdownModule } from 'src/app/shared/components/dropdown/dropdown.module';
  `}
/>

Привязать в шаблоне референс на элемент:
<Source
  language='html'
  dark
  format={true}
  code={dedent`
    <button
        [appDropdownTriggerFor]="dropdown"
        #dropdownTrigger="dropdownTriggerFor">
      button
    </button>

    <app-dropdown #dropdown>JOPA</app-dropdown>
  `}
/>

В компоненте можно программно открывать и закрывать меню:
<Source
  language='typescript'
  dark
  format={true}
  code={dedent`
    @ViewChild('dropdownTrigger') dropdownTrigger: DropdownTriggerForDirective;

    toggleDropdown(): void {
      this.dropdownTrigger.toggleDropdown();
    }

    openDropdown(): void {
      this.dropdownTrigger.openDropdown();
    }

    closeDropdown(): void {
      this.dropdownTrigger.destroyDropdown();
    }
  `}
/>



## Configuration
Можно так же объявить настройки `dropdownSettings`, где:
* **listenHostClick** - открываться нажатием привязанного элемента;
* **hasBackdrop** - пропускать нажатие вокруг меню;
* **offsetX** - сдвиг по оси X в пикселях;
* **offsetY** - сдвиг по оси Y в пикселях;

<Source
  language='html'
  dark
  format={true}
  code={dedent`
    <button
        [appDropdownTriggerFor]="dropdown"
        [dropdownSettings]="dropdownSettings"
        #dropdownTrigger="dropdownTriggerFor">
      button
    </button>

    <app-dropdown #dropdown>JOPA</app-dropdown>
  `}
/>

